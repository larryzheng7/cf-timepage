
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Time Display</title>

  <!-- Digital font -->
  <link href="https://fonts.cdnfonts.com/css/ds-digital" rel="stylesheet">

  <style>
    :root {
      --clock-color: #28f62d;          /* default light green */
      --clock-color-rgb: 40, 246, 45;  /* for scan-line effect */
    }

    html, body {
      height: 100%;
      margin: 0;
      background: #000;
      color: var(--clock-color);
      font-family: 'DS-Digital', Arial, sans-serif;
      -webkit-font-smoothing: none;    /* preserve ‘LED’ sharpness */
      text-rendering: optimizeSpeed;
    }

    /* Center the layout */
    .wrap {
      min-height: 100%;
      display: grid;
      place-items: center;
      text-align: center;
      padding: 2rem;
    }

    /* Big time; scale responsively but cap around your original size */
    .time {
      font-size: clamp(160px, 22vw, 520px);
      letter-spacing: 5px;
      margin-bottom: 0.25rem;
      text-shadow: 0 0 20px var(--clock-color);
      position: relative;
      filter: blur(0.5px);
      font-weight: normal;
    }

    .date, .day {
      font-size: clamp(42px, 6.5vw, 100px);
      letter-spacing: 3px;
      margin-bottom: 10px;
      text-shadow: 0 0 10px var(--clock-color);
      position: relative;
      filter: blur(0.5px);
      font-weight: normal;
    }

    /* Subtle horizontal scanlines over each text block */
    .time::before, .date::before, .day::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(
        rgba(var(--clock-color-rgb), 0.10) 50%,
        transparent 50%
      );
      background-size: 100% 4px;
      pointer-events: none;
    }

    /* Optional links (kept from your original) */
    .button-container { margin-top: 20px; }
    .link-button {
      display: inline-block; padding: 15px 30px; margin: 10px;
      background-color: #90EE90; color: #000; text-decoration: none;
      border-radius: 5px; font-size: 18px; font-family: Arial, sans-serif;
    }
    .link-button:hover { background-color: #7CCD7C; }
  </style>

  <script>
    // Fixed timezone for your display
    const TZ = 'America/Chicago';

    // Format helpers using Intl with explicit timeZone
    function getTimeParts(date) {
      const parts = new Intl.DateTimeFormat('en-US', {
        timeZone: TZ, hour: '2-digit', minute: '2-digit', hour12: true
      }).formatToParts(date);
      const get = t => parts.find(p => p.type === t)?.value ?? '';
      return { hour: get('hour'), minute: get('minute'), dayPeriod: get('dayPeriod') };
    }

    function getHour24(date) {
      const parts = new Intl.DateTimeFormat('en-US', {
        timeZone: TZ, hour: '2-digit', hour12: false
      }).formatToParts(date);
      return parseInt(parts.find(p => p.type === 'hour')?.value ?? '0', 10);
    }

    function getDateStr(date) {
      const parts = new Intl.DateTimeFormat('en-CA', {
        timeZone: TZ, year: 'numeric', month: '2-digit', day: '2-digit'
      }).formatToParts(date);
      const y = parts.find(p => p.type === 'year')?.value ?? '0000';
      const m = parts.find(p => p.type === 'month')?.value ?? '01';
      const d = parts.find(p => p.type === 'day')?.value ?? '01';
      return `${y}-${m}-${d}`;
    }

    function getWeekday(date) {
      return new Intl.DateTimeFormat('en-US', {
        timeZone: TZ, weekday: 'long'
      }).format(date).toUpperCase();
    }

    // Night-mode tint: 21:00–06:59 → gray; otherwise neon green
    function updateClockColor(date) {
      const hour = getHour24(date);
      const isNight = (hour >= 21 || hour < 7);
      const color = isNight ? '#555555' : '#28f62d';
      const rgb   = isNight ? '85, 85, 85' : '40, 246, 45';
      document.documentElement.style.setProperty('--clock-color', color);
      document.documentElement.style.setProperty('--clock-color-rgb', rgb);
    }

    // Render all fields once per second (colon flicker comes from font)
    function render() {
      const now = new Date();

      const t = getTimeParts(now);
      document.querySelector('.time').textContent = `${t.hour}:${t.minute}`;

      document.querySelector('.date').textContent = getDateStr(now);
      document.querySelector('.day').textContent  = getWeekday(now);

      updateClockColor(now);
    }

    // Initial paint + update each second
    window.addEventListener('DOMContentLoaded', () => {
      render();
      setInterval(render, 1000);
      // Repaint when tab becomes visible again
      document.addEventListener('visibilitychange', () => {
        if (!document.hidden) render();
      });
    });
  </script>
</head>
<body>
  <div class="wrap">
    <div class="time">10:43</div>
    <div class="date">2025-12-27</div>
    <div class="day">SATURDAY</div>

    <!-- Optional links area; remove if not needed -->
    <!--
    <div class="button-container">
      <a class="link-button" href="#">Example Link</a>
    </div>
    -->
  </div>
</body>
</html>
